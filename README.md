# User Service

Этот проект реализует сервис на базе NestJS и TypeORM, который управляет пользователями и поддерживает массовое обновление флага `issues` для них.

## Установка

1. Склонируйте репозиторий и перейдите в директорию проекта:

   ```bash
   git clone <URL вашего репозитория>
   cd <папка проекта>

2. Установите зависимости:

  ```bash
  npm install
  ```
3. Создайте файл .env в корне проекта и добавьте конфигурацию для подключения к базе данных:
DB_PASSWORD=ваш_пароль_для_бд

## Настройка базы данных

1. Убедитесь, что PostgreSQL установлен и запущен.
2. Создайте новую базу данных для приложения. Например, выполните команду в `psql`:

  ```sql
   CREATE DATABASE userdb;
  ```
## Миграции

Для создания таблицы и начальных данных выполните миграции:

  ```bash
  npx ts-node -r tsconfig-paths/register ./node_modules/typeorm/cli.js migration:run -d ./data-source.ts
  ```

## Запуск приложения
Запустите приложение командой:

```bash
npm run start
```
Приложение будет доступно по адресу http://localhost:3000.

## Тестирование работоспособности приложения
Для тестирования работоспособности эндпоинта reset-issues, который сбрасывает флаг issues у всех пользователей в false и возвращает количество пользователей с issues: true, выполните следующую команду:
```bash
curl -X POST http://localhost:3000/users/reset-issues
```
